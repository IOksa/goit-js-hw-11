function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in t){var n=t[e];delete t[e];var r={id:e,exports:{}};return o[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},n.parcelRequired7c6=r);var a=r("2shzp"),i=r("iQIUW"),s=r("fZKcF");let l=1,c="";const d={form:document.querySelector("#search-form"),input:document.querySelector(".search-input"),div:document.querySelector(".gallery"),guard:document.querySelector(".js-guard")};let u=new(e(s))(".gallery a");const f=new IntersectionObserver((function(e,n){e.forEach((e=>{e.isIntersecting&&(l+=1,g().then(h).catch((e=>{i.Notify.failure("Ooops! Something went wrong!"),console.error(e)})))}))}),{root:null,rootMargin:"300px",threshold:0});d.form.addEventListener("submit",(function(e){e.preventDefault(),l=1,d.div.innerHTML="";const n=e.currentTarget;c=n.elements.searchQuery.value.trim(),""!==c?g().then(h).catch((e=>{i.Notify.failure("Ooops! Something went wrong!"),console.error(e)})):i.Notify.failure("Empty search input")}));const{height:p}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();async function g(){const e=new URLSearchParams({key:"35857316-b0404474f9c8f0cfe824c51d8",q:c,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:l});return await a.default.get(`https://pixabay.com/api/?${e}`)}function h(e){if(0===e.data.hits.length)i.Notify.failure("Sorry, there are no images matching your search query. Please try again.");else{if(function(e){const n=(o=e.data.hits,console.log("arr=",o),o.map((({largeImageURL:e,webformatURL:n,tags:o,views:t,likes:r,comments:a,downloads:i})=>`<div class="photo-card">\n       \n        <div class="img-thumb">\n        <a href="${e}" class="photo-card__link">\n        <img class="photo-card__image"" src="${n}" alt="{tags}" loading="lazy" data-source="large-image.jpg"/>\n        </a>\n        </div>\n        <div class="info">\n          <p class="info-item">\n            <b>Likes</b>\n            <span>${r}</span>\n          </p>\n          <p class="info-item">\n            <b>Views</b>\n            <span>${t}</span>\n          </p>\n          <p class="info-item">\n            <b>Comments</b>\n            <span>${a}</span>\n          </p>\n          <p class="info-item">\n            <b>Downloads</b>\n            <span>${i}</span>\n          </p>\n        </div>\n      </div>`)).join(""));var o;d.div.insertAdjacentHTML("beforeend",n),u.refresh()}(e),l>1){const e=40*l;i.Notify.info(`Hooray! We found ${e} images.`)}console.log(l,"   ",e.data.totalHits/40),l<e.data.totalHits/40?f.observe(d.guard):(f.unobserve(guard),i.Notify.info("We're sorry, but you've reached the end of search results."))}}window.scrollBy({top:2*p,behavior:"smooth"});
//# sourceMappingURL=scroll.00f2be17.js.map
